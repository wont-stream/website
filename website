
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://katze.click/index.css">
    <title>_</title>
</head>

<body style="text-align:center;">
    <div class="card-grid" id="stats">
    </div>

    <script>
        const stats = document.getElementById("stats");

        // Card template function
        function createCard(cat, part, hits) {
            return `
            <div class="card">
				<br>
                <div class="content">
					<p class="title">
                        ${part}
					</p>

					<div class="stats">
						<span class="online">${hits > 1 ? `${hits} Hits` : `${hits} Hit`}</span>
					</div>
				</div>
			</div>
            `;
        }

        async function init() {
            while (true) {
                try {
                    const resp = await fetch("/___");
                    const data = await resp.json();
                    let html = "";

                    for (const cat in data) {
                        html += `<p class="text headline">${cat}</p><br>`;
                        for (const part in data[cat]) {
                            html += createCard(cat, part, data[cat][part].toLocaleString());
                        }
                    }

                    stats.innerHTML = html;
                } catch (error) {
                    console.error(error);
                }

                await new Promise((resolve) => setTimeout(resolve, 10000000));
            }
        }

        init();
    </script>
</body>

</html>
