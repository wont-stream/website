{"version":3,"file":"index.esm.js","sources":["../src/utils/lerp.js","../src/utils/hex-to-rgb.js","../src/utils/set-styles.js","../src/animated-cursor.js","../src/utils/is-touch-device.js","../src/utils/has-exited-viewport.js"],"sourcesContent":["// const lerp = (a, b, n) => (1 - n) * a + n * b\n\n/**\n * Linear Interpolation (Lerp) easing util\n * Enables smooth animations between 2 points\n * @param {Number} a - Starting value\n * @param {Number} b - Destimation value\n * @param {Number} n - Normal value to control Linear Interpolation.\n * @returns {Number}\n */\nexport default function lerp(a, b, n) {\n  return (1 - n) * a + n * b\n}\n","/**\n * Has Exited Viewport\n * Detects when cursor has exited viewport\n * @param  {document#event:mouseout} event\n */\n export default function hexToRGB(hex, alpha) {\n  // const r = parseInt(hex.slice(1, 3), 16)\n  // const g = parseInt(hex.slice(3, 5), 16)\n  // const b = parseInt(hex.slice(5, 7), 16)\n  hex = hex.replace('#', '')\n  const r = parseInt(\n    hex.length == 3 ? hex.slice(0, 1).repeat(2) : hex.slice(0, 2),\n    16\n  )\n  const g = parseInt(\n    hex.length == 3 ? hex.slice(1, 2).repeat(2) : hex.slice(2, 4),\n    16\n  )\n  const b = parseInt(\n    hex.length == 3 ? hex.slice(2, 3).repeat(2) : hex.slice(4, 6),\n    16\n  )\n  if (alpha === 0) {\n    return `rgba(${r}, ${g}, ${b}, 0)`\n  }\n  if (alpha) {\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`\n  }\n  return `rgb(${r}, ${g}, ${b})`\n}\n","export default function setStyles( objId, propertyObject ) {\n var elem = document.querySelector(objId);\n for (var property in propertyObject)\n    elem.style[property] = propertyObject[property];\n}","import lerp from './utils/lerp'\nimport hasExitedViewport from './utils/has-exited-viewport'\nimport hexToRGB from './utils/hex-to-rgb'\nimport setStyles from './utils/set-styles'\nimport isTouchDevice from './utils/is-touch-device'\n;('use strict')\n\nconst defaultOptions = {\n  cursorInnerSelector: '#cursor-inner',\n  cursorOuterSelector: '#cursor-outer',\n  cursorInnerStyles: null,\n  cursorOuterStyles: null,\n  hasRequiredStyles: true,\n  hideNativeCursor: true,\n  color: '#D3245C',\n  outerAlpha: 0.3,\n  outerBorderSize: 0,\n  size: {\n    inner: 8,\n    outer: 40\n  },\n  hoverScale: {\n    inner: 0.75,\n    outer: 1.5\n  },\n  clickScale: {\n    inner: 1.5,\n    outer: 0.13\n  },\n  trailingSpeed: 0.2,\n  clickables: [\n    'a',\n    'input[type=\"text\"]',\n    'input[type=\"email\"]',\n    'input[type=\"number\"]',\n    'input[type=\"submit\"]',\n    'input[type=\"image\"]',\n    'label[for]',\n    'select',\n    'textarea',\n    'button',\n    '.link'\n  ]\n}\n\n/**\n * Animated Cursor\n * Replaces the browser's native cursor with a custom animated cursor.\n * Options enable creation of different cursor experiences.\n *\n * @param {Object} options\n * @returns {Object} - api reveals init method\n */\nfunction AnimatedCursor(options) {\n  // merge defaults with user options\n  let opts = Object.assign({}, defaultOptions, options)\n\n  let settings = {\n    cursorInner: document.querySelector(opts.cursorInnerSelector),\n    cursorOuter: document.querySelector(opts.cursorOuterSelector),\n    cursorInnerStyles: opts.cursorInnerStyles,\n    cursorOuterStyles: opts.cursorOuterStyles,\n    hasRequiredStyles: opts.hasRequiredStyles,\n    targetPos: { x: 0.5, y: 0.5 }, // mouse position\n    cursorPos: { x: 0.5, y: 0.5 }, // cursor position\n    endX: window.innerWidth / 2,\n    endY: window.innerHeight / 2,\n    raf: requestAnimationFrame(animateOuterCursor),\n    cursorVisible: true,\n    isScaled: false,\n    isClicking: false\n  }\n\n  /**\n   * Init\n   * Kicks off all the things\n   * @public\n   */\n  function init() {\n    // bail if Touch device\n    if (isTouchDevice()) return\n    bindEvents()\n    startCursor()\n    setCursorColor()\n    setCursorSize()\n    if (opts.hideNativeCursor) hideNativeCursor()\n    if (opts.hasRequiredStyles) setCursorStyles()\n    if (opts.outerBorderSize > 0) setOuterBorder()\n  }\n\n  /**\n   * Binds main mouse and click events\n   */\n  function bindEvents() {\n    document\n      .querySelectorAll(opts.clickables.join(','))\n      .forEach((el) => onClickableHover(el))\n\n    document.addEventListener('mousemove', onMouseMove)\n    document.addEventListener('mousedown', onMouseDown)\n    document.addEventListener('mouseup', onMouseUp)\n    document.addEventListener('mouseleave', (e) => onMouseLeave(e))\n  }\n\n  /**\n   * Start Cursor\n   * Begins cursor visibility state\n   */\n  function startCursor() {\n    settings.isVisible = false\n    toggleVisibility()\n  }\n\n  /**\n   * Handles the cursor mouse event, sending x,y coords to animation events.\n   * Uses RAF loop for outer/trailing cursor animation.\n   * @param {Event} e - mousemove event\n   */\n  function onMouseMove(e) {\n    settings.isVisible = true\n    toggleVisibility()\n    //get normalized mouse coordinates [0, 1]\n    settings.targetPos.x = e.clientX\n    settings.targetPos.y = e.clientY\n    animateInnerCursor(e.clientY, e.clientX)\n    // trigger loop if no loop is active\n    if (!settings.raf) settings.raf = requestAnimationFrame(animateOuterCursor)\n  }\n\n  /**\n   * Handles mousedown event,\n   * updating cursor scale\n   */\n  function onMouseDown() {\n    settings.isClicking = true\n    setScale()\n  }\n\n  /**\n   * Handles mouseup event,\n   * updating cursor scale\n   */\n  function onMouseUp() {\n    settings.isScaled = false\n    settings.isClicking = false\n    setScale()\n  }\n\n  /**\n   * Handles mouseleave event,\n   * updating cursor visibility\n   * @param {Event} e - mouseleave event\n   */\n  function onMouseLeave(e) {\n    if (hasExitedViewport(e)) {\n      settings.isVisible = false\n      toggleVisibility()\n    }\n  }\n\n  /**\n   * Animates inner cursor by setting x, y coords on mousemove\n   * @param {Number} y - y coords\n   * @param {Number} x - x coords\n   */\n  function animateInnerCursor(y, x) {\n    settings.cursorInner.style.setProperty('top', `${y}px`)\n    settings.cursorInner.style.setProperty('left', `${x}px`)\n  }\n\n  /**\n   * Animate Outer Cursor with a lerp-eased trailing animation.\n   */\n  function animateOuterCursor() {\n    //calculate lerped values\n    settings.cursorPos.x = lerp(\n      settings.cursorPos.x,\n      settings.targetPos.x,\n      opts.trailingSpeed\n    )\n    settings.cursorPos.y = lerp(\n      settings.cursorPos.y,\n      settings.targetPos.y,\n      opts.trailingSpeed\n    )\n    settings.cursorOuter.style.setProperty('top', `${settings.cursorPos.y}px`)\n    settings.cursorOuter.style.setProperty('left', `${settings.cursorPos.x}px`)\n\n    //cancel loop if mouse stops moving\n    const delta = Math.sqrt(\n      Math.pow(settings.targetPos.x - settings.cursorPos.x, 2) +\n        Math.pow(settings.targetPos.y - settings.cursorPos.y, 2)\n    )\n\n    if (delta < 0.001) {\n      window.cancelAnimationFrame(settings.raf)\n      settings.raf = null\n      return\n    }\n    //or continue looping if mouse is moving\n    settings.raf = requestAnimationFrame(animateOuterCursor)\n  }\n\n  /**\n   * When hovering over a clickable, handle scale animation\n   * @param {HTMLelement} el\n   */\n  function onClickableHover(el) {\n    el.style.cursor = 'none'\n\n    el.addEventListener('mouseover', () => {\n      settings.isScaled = true\n      setScale()\n    })\n\n    el.addEventListener('mouseout', () => {\n      settings.isScaled = false\n      setScale()\n    })\n  }\n\n  /**\n   * Toggle Cursor visibility\n   */\n  function toggleVisibility() {\n    if (settings.isVisible) {\n      settings.cursorInner.style.setProperty('opacity', 1)\n      settings.cursorOuter.style.setProperty('opacity', 1)\n    } else {\n      settings.cursorInner.style.setProperty('opacity', 0)\n      settings.cursorOuter.style.setProperty('opacity', 0)\n    }\n  }\n\n  /**\n   * Hide Browser's native cursor\n   */\n  function hideNativeCursor() {\n    document.querySelector('body').style.setProperty('cursor', 'none')\n    document.querySelector('html').style.setProperty('cursor', 'none')\n  }\n\n  /**\n   * Set required Cursor styles\n   */\n  function setCursorStyles() {\n    const styles = {\n      'pointer-events': 'none',\n      position: 'fixed',\n      'border-radius': '50%',\n      opacity: 0,\n      transform: 'translate(-50%, -50%)',\n      transition: 'opacity 0.25s ease-in-out, transform 0.25s ease-in-out'\n    }\n    setStyles(opts.cursorInnerSelector, styles)\n    setStyles(opts.cursorOuterSelector, styles)\n    setStyles(opts.cursorInnerSelector, opts.cursorInnerStyles)\n    setStyles(opts.cursorOuterSelector, opts.cursorOuterStyles)\n  }\n\n  /**\n   * Set Cursor's resting sizes\n   */\n  function setCursorSize() {\n    settings.cursorInner.style.setProperty('width', `${opts.size.inner}px`)\n    settings.cursorInner.style.setProperty('height', `${opts.size.inner}px`)\n    settings.cursorOuter.style.setProperty('width', `${opts.size.outer}px`)\n    settings.cursorOuter.style.setProperty('height', `${opts.size.outer}px`)\n  }\n\n  /**\n   * Set Scale Effect\n   */\n  function setScale() {\n    if (settings.isClicking) {\n      settings.cursorInner.style.setProperty(\n        'transform',\n        `translate(-50%, -50%) scale(${opts.clickScale.inner})`\n      )\n      settings.cursorOuter.style.setProperty(\n        'transform',\n        `translate(-50%, -50%) scale(${opts.clickScale.outer})`\n      )\n    } else if (settings.isScaled) {\n      settings.cursorInner.style.setProperty(\n        'transform',\n        `translate(-50%, -50%) scale(${opts.hoverScale.inner})`\n      )\n      settings.cursorOuter.style.setProperty(\n        'transform',\n        `translate(-50%, -50%) scale(${opts.hoverScale.outer})`\n      )\n    } else {\n      settings.cursorInner.style.setProperty(\n        'transform',\n        `translate(-50%, -50%) scale(1)`\n      )\n      settings.cursorOuter.style.setProperty(\n        'transform',\n        `translate(-50%, -50%) scale(1)`\n      )\n    }\n  }\n\n  /**\n   * Sets the Cursor                               x\n   */\n  function setCursorColor() {\n    const colorInner = hexToRGB(opts.color)\n    const colorOuter = hexToRGB(opts.color, opts.outerAlpha)\n    settings.cursorInner.style.setProperty('background-color', colorInner)\n    settings.cursorOuter.style.setProperty('background-color', colorOuter)\n  }\n\n  /**\n   * Sets a border for Outer Cursor\n   * to create a donut-style cursor\n   * (if outerAlpha is or is close to 0)\n   */\n  function setOuterBorder() {\n    settings.cursorOuter.style.setProperty(\n      'border',\n      `${opts.outerBorderSize}px solid ${opts.color}`\n    )\n  }\n\n  /**\n   * Set Outer Blend Mode\n   * Adds blend mode exclusion effect to outer cursor\n   */\n  // function setOuterBlendMode() {\n  //   const cursorEl = settings.cursorOuter.parentElement\n\n  //   if (cursorEl) cursorEl.style.setProperty('mix-blend-mode', 'exclusion')\n  // }\n\n  // API\n  return {\n    init: init\n  }\n}\n\nAnimatedCursor.options = defaultOptions\n\nexport default AnimatedCursor\n","export default function isTouchDevice() {\n  return (\n    !!(typeof window !== 'undefined' &&\n      ('ontouchstart' in window ||\n        (window.DocumentTouch &&\n          typeof document !== 'undefined' &&\n          document instanceof window.DocumentTouch))) ||\n    !!(typeof navigator !== 'undefined' &&\n      (navigator.maxTouchPoints || navigator.msMaxTouchPoints))\n  );\n}","/**\n * Has Exited Viewport\n * Detects when cursor has exited viewport\n * @param  {document#event:mouseout} event\n */\n export default function hasExitedViewport(event) {\n  return (\n    event.clientY <= 0 ||\n    event.clientX <= 0 ||\n    event.clientX >= window.innerWidth ||\n    event.clientY >= window.innerHeight\n  )\n}\n"],"names":["lerp","a","b","n","hexToRGB","hex","alpha","replace","r","parseInt","length","slice","repeat","g","setStyles","objId","propertyObject","elem","document","querySelector","property","style","defaultOptions","cursorInnerSelector","cursorOuterSelector","cursorInnerStyles","cursorOuterStyles","hasRequiredStyles","hideNativeCursor","color","outerAlpha","outerBorderSize","size","inner","outer","hoverScale","clickScale","trailingSpeed","clickables","AnimatedCursor","options","opts","Object","assign","settings","cursorInner","cursorOuter","targetPos","x","y","cursorPos","endX","window","innerWidth","endY","innerHeight","raf","requestAnimationFrame","animateOuterCursor","cursorVisible","isScaled","isClicking","onMouseMove","e","isVisible","toggleVisibility","clientX","clientY","setProperty","onMouseDown","setScale","onMouseUp","Math","sqrt","pow","cancelAnimationFrame","init","colorInner","colorOuter","styles","DocumentTouch","navigator","maxTouchPoints","msMaxTouchPoints","querySelectorAll","join","forEach","el","onClickableHover","cursor","addEventListener","onMouseLeave","hasExitedViewport","event","position","opacity","transform","transition"],"mappings":"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"}